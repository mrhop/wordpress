{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/admin.js","webpack:///./assets/scss/admin.scss"],"names":["admin","customMedia","frame","metaBox","document","querySelector","addImgLink","find","delImgLink","imgContainer","imgIdInput","addEventListener","event","preventDefault","open","wp","media","title","button","text","multiple","on","attachment","state","get","first","toJSON","append","url","value","id","classList","add","remove","innerHTML"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;ACnEA;;AAEA,IAAMA,QAAQ;AACVC,yBAAa,uBAAM;AACf,4BAAIC,cAAJ;AAAA,4BACIC,UAAUC,SAASC,aAAT,CAAuB,wBAAvB,CADd;AAAA,4BAEIC,aAAaH,QAAQI,IAAR,CAAa,oBAAb,CAFjB;AAAA,4BAGIC,aAAaL,QAAQI,IAAR,CAAa,oBAAb,CAHjB;AAAA,4BAIIE,eAAeN,QAAQI,IAAR,CAAa,uBAAb,CAJnB;AAAA,4BAKIG,aAAaP,QAAQI,IAAR,CAAa,gBAAb,CALjB;AAMAD,mCAAWK,gBAAX,CAA4B,OAA5B,EAAqC,UAAUC,KAAV,EAAiB;;AAElDA,0CAAMC,cAAN;;AAGA,wCAAIX,KAAJ,EAAW;AACPA,sDAAMY,IAAN;AACA;AACH;;AAIDZ,4CAAQa,GAAGC,KAAH,CAAS;AACbC,uDAAO,wBADM;AAEbC,wDAAQ;AACJC,kEAAM;AADF,iDAFK;AAKbC,0DAAU,KALG,EAAT,CAAR;;AAUAlB,0CAAMmB,EAAN,CAAS,QAAT,EAAmB,YAAY;AAG3B,oDAAIC,aAAapB,MAAMqB,KAAN,GAAcC,GAAd,CAAkB,WAAlB,EAA+BC,KAA/B,GAAuCC,MAAvC,EAAjB;;AAGAjB,6DAAakB,MAAb,CAAoB,eAAeL,WAAWM,GAA1B,GAAgC,oCAApD;;AAGAlB,2DAAWmB,KAAX,GAAmBP,WAAWQ,EAA9B;;AAGAxB,2DAAWyB,SAAX,CAAqBC,GAArB,CAAyB,QAAzB;;AAGAxB,2DAAWuB,SAAX,CAAqBE,MAArB,CAA4B,QAA5B;AACH,qCAhBD;;AAmBA/B,0CAAMY,IAAN;AACH,yBA1CD;AA2CAN,mCAAWG,gBAAX,CAA4B,OAA5B,EAAqC,UAAUC,KAAV,EAAiB;;AAElDA,0CAAMC,cAAN;;AAGAJ,iDAAayB,SAAb,GAAyB,EAAzB;;AAGA5B,+CAAWyB,SAAX,CAAqBE,MAArB,CAA4B,QAA5B;;AAGAzB,+CAAWuB,SAAX,CAAqBC,GAArB,CAAyB,QAAzB;AACAtB,+CAAWmB,KAAX,GAAmB,EAAnB;AAEH,yBAdD;AAgBH;AAnES,CAAd;AAqEAzB,SAASO,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChDX,kBAAMC,WAAN;AACH,CAFD,E;;;;;;;;;;;ACvEA,uC","file":"js/admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/admin.js\");\n","import '../scss/admin.scss'\r\n\r\nconst admin = {\r\n    customMedia: () => {\r\n        let frame,\r\n            metaBox = document.querySelector('.shanyue-page-sections'), // Your meta box id here\r\n            addImgLink = metaBox.find('.upload-custom-img'),\r\n            delImgLink = metaBox.find('.delete-custom-img'),\r\n            imgContainer = metaBox.find('.custom-img-container'),\r\n            imgIdInput = metaBox.find('.custom-img-id');\r\n        addImgLink.addEventListener('click', function (event) {\r\n\r\n            event.preventDefault();\r\n\r\n            // If the media frame already exists, reopen it.\r\n            if (frame) {\r\n                frame.open();\r\n                return;\r\n            }\r\n\r\n            // Create a new media frame\r\n            /* eslint no-undef: \"off\"*/\r\n            frame = wp.media({\r\n                title: 'Select or Upload Media',\r\n                button: {\r\n                    text: 'Use this media'\r\n                },\r\n                multiple: false  // Set to true to allow multiple files to be selected\r\n            });\r\n\r\n\r\n            // When an image is selected in the media frame...\r\n            frame.on('select', function () {\r\n\r\n                // Get media attachment details from the frame state\r\n                var attachment = frame.state().get('selection').first().toJSON();\r\n\r\n                // Send the attachment URL to our custom image input field.\r\n                imgContainer.append('<img src=\"' + attachment.url + '\" alt=\"\" style=\"max-width:100%;\"/>');\r\n\r\n                // Send the attachment id to our hidden input\r\n                imgIdInput.value = attachment.id;\r\n\r\n                // Hide the add image link\r\n                addImgLink.classList.add('hidden');\r\n\r\n                // Unhide the remove image link\r\n                delImgLink.classList.remove('hidden');\r\n            });\r\n\r\n            // Finally, open the modal on click\r\n            frame.open();\r\n        })\r\n        delImgLink.addEventListener('click', function (event) {\r\n\r\n            event.preventDefault();\r\n\r\n            // Clear out the preview image\r\n            imgContainer.innerHTML = '';\r\n\r\n            // Un-hide the add image link\r\n            addImgLink.classList.remove('hidden');\r\n\r\n            // Hide the delete image link\r\n            delImgLink.classList.add('hidden');\r\n            imgIdInput.value = '';\r\n\r\n        });\r\n\r\n    }\r\n}\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    admin.customMedia()\r\n})\r\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}